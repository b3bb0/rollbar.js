!function(a){function b(a){this.options={endpoint:b.DEFAULT_ENDPOINT,scrubFields:f.copy(b.DEFAULT_SCRUB_FIELDS),payload:{}},this.plugins={},this.parentNotifier=a,a&&(a.hasOwnProperty("shimId")?a.notifier=this:this.configure(a.options))}function c(a){var b=[];if(a.arguments&&a.stack)b=d(a);else if(a.stack)b=-1===a.stack.indexOf("@")?d(a):e(a);else{var c=parseInt("undefined"!=typeof a.line?a.line:a.lineNumber,10)||0,g=f.sanitizeUrl(("undefined"!=typeof a.sourceURL?a.sourceURL:a.fileName)||null);b=[{filename:g,lineno:c}]}this.frames=b.reverse()}function d(a){var b,c,d,e,g,h,i,j=a.stack.split("\n"),k=j.length,l=[],m=/:([0-9]+(:([0-9]+))?)$/;for(h=1;k>h;++h)if(i=j[h],b=i.replace(/^\s+|\s+$/g,"").slice(3),"unknown source"!==b){if(b=b.split(" "),b.length>2?(c=b.slice(0,-1).join(" "),d=b.slice(-1)[0],e=0):2===b.length?(c=b[0],d=b[1]):(c=null,d=b[0]),d&&"(unknown source)"!==d){"("===d[0]&&(d=d.slice(1,-1));var n=m.exec(d);n?(e=n[1],e=e.split(":"),g=e.length>1?parseInt(e[1],10):null,e=parseInt(e[0],10),d=f.sanitizeUrl(d.slice(0,d.indexOf(n[0])))):(e=0,g=null)}l.push({filename:d,lineno:e,colno:g,method:c})}return l}function e(a){var b,c,d,e,g,h,i=a.stack.split("\n"),j=i.length,k=[];for(g=0;j>g;++g)if(h=i[g]){b=h.split("@"),b[0]?(c=b[0].split("("),c="undefined"!=typeof c[0]&&String(c[0]).length?c[0]:null):c=null,b.length>1?(d=b[1].split(":"),e=parseInt(d.slice(-1)[0],10)||0,d=f.sanitizeUrl(d.slice(0,-1).join(":"))||"<native code>"):"[native code]"===b[0]&&(c=null,d="<native code>",e=0);var l={filename:d,lineno:e,method:c};0===g&&a.columnNumber&&(l.colno=a.columnNumber+1),k.push(l)}return k}b.VERSION="0.10.8",b.DEFAULT_ENDPOINT="https://api.rollbar.com/api/1/item/",b.DEFAULT_SCRUB_FIELDS=["passwd","password","secret","confirm_password","password_confirmation"],a._rollbarPayloadQueue=[],a._globalRollbarOptions={startTime:(new Date).getTime()},b._generateLogFn=function(a){return function(){var b=this._getLogArgs(arguments);return this._log(a||b.level||this.options.defaultLogLevel||"debug",b.message,b.err,b.custom,b.callback)}},b.prototype._getLogArgs=function(a){for(var b,c,d,e,f,g,h,i=this.options.defaultLogLevel||"debug",j=0;j<a.length;++j)h=a[j],g=typeof h,"string"===g?c=h:"function"===g?f=h:"object"===g&&("Date"===h.constructor.name?b=h:h.hasOwnProperty("stack")?d=h:e=h);return{level:i,message:c,err:d,custom:e,callback:f}},b.prototype._route=function(a){var c=this.options.endpoint||b.DEFAULT_ENDPOINT;return/\/$/.test(c)&&/^\//.test(a)?a=a.substring(1):/\/$/.test(c)||/^\//.test(a)||(a="/"+a),c+a},b.prototype._processShimQueue=function(a){for(var c,d,e,f,g,h,i,j={};d=a.shift();)c=d.shim,e=d.method,f=d.args,g=c.parentShim,i=j[c.shimId],i||(g?(h=j[g.shimId],i=new b(h)):i=this,j[c.shimId]=i),i[e]&&"function"==typeof i[e]&&i[e].apply(i,f)},b.prototype._buildPayload=function(c,d,e,g,h){var i=this.options.accessToken,j=this.options.environment,k=f.copy(this.options.payload),l=f.uuid4(),m={environment:j,endpoint:this.options.endpoint,uuid:l,level:d,platform:"browser",framework:"browser-js",language:"javascript",body:this._buildBody(e,g),request:{url:a.location.href,query_string:a.location.search,user_ip:"$remote_ip"},client:{runtime_ms:c.getTime()-a._globalRollbarOptions.startTime,timestamp:Math.round(c.getTime()/1e3),javascript:{browser:a.navigator.userAgent,language:a.navigator.language,cookie_enabled:a.navigator.cookieEnabled,screen:{width:a.screen.width,height:a.screen.height},plugins:this._getBrowserPlugins()}},server:{},notifier:{name:"rollbar-browser-js",version:b.VERSION}},n={access_token:i,data:f.merge(k,m)};return h&&f.merge(n.data,h),this._scrub(n),n},b.prototype._buildBody=function(a,b){var d,e=function(a,b){var d=b.name||typeof b,e=b.message||b.toString(),g={exception:{"class":d,message:b.message||b.toString()}};if(e&&(g.exception.description=a),b.stack){var h=new c(b),i=h.frames;i&&(g.frames=i)}return g.frames?g:f(d+": "+e)},f=function(a){return{message:{body:a}}};return d=b?e(a,b):f(a)},b.prototype._getBrowserPlugins=function(){if(!this._browserPlugins){var b,c=a.navigator.plugins||[],d=c.length,e=[];for(i=0;d>i;++i)b=c[i],e.push({name:b.name,description:b.description});this._browserPlugins=e}return this._browserPlugins},b.prototype._scrub=function(a){var b=function(a,b,c,d,e,g){return b+f.redact(g)},c=this.options.scrubFields,d=this._getScrubFieldRegexs(c),e=this._getScrubQueryParamRegexs(c),g=function(a){var c;if("string"==typeof a)for(c=0;c<e.length;++c)a=a.replace(e[c],b);return a},h=function(a,b){var c;for(c=0;c<d.length;++c)if(d[c].test(a)){b=f.redact(b);break}return b},i=function(a,b){var c=h(a,b);return c===b?g(c):c};return f.traverse(a,i),a},b.prototype._getScrubFieldRegexs=function(a){for(var b,c=[],d=0;d<a.length;++d)b="\\[?(%5[bB])?"+a[d]+"\\[?(%5[bB])?\\]?(%5[dD])?",c.push(new RegExp(b,"i"));return c},b.prototype._getScrubQueryParamRegexs=function(a){for(var b,c=[],d=0;d<a.length;++d)b="\\[?(%5[bB])?"+a[d]+"\\[?(%5[bB])?\\]?(%5[dD])?",c.push(new RegExp("("+b+"=)([^&\\n]+)","igm"));return c},b.prototype._log=function(a,b,c,d){console.log("IMPLEMENT ME",a,b,c,d)},b.prototype.log=b._generateLogFn(),b.prototype.debug=b._generateLogFn("debug"),b.prototype.info=b._generateLogFn("info"),b.prototype.warning=b._generateLogFn("warning"),b.prototype.error=b._generateLogFn("error"),b.prototype.critical=b._generateLogFn("critical"),b.prototype.uncaughtError=function(a,b,c,d,e){console.log(a,b,c,d,e)},b.prototype.global=function(b){f.merge(a._globalRollbarOptions,b)},b.prototype.configure=function(a){f.merge(this.options,a)},b.prototype.scope=function(a){var c=new b(this);return f.merge(c.options.payload,a),c};var f={merge:function(){var a,b,c,d,e,g,h=arguments[0]||{},i=1,j=arguments.length,k=!0;for("object"!=typeof h&&"function"!=typeof h&&(h={});j>i;i++)if(null!==(a=arguments[i]))for(b in a)c=h[b],d=a[b],h!==d&&(k&&d&&(d.constructor==Object||(e=d.constructor==Array))?(e?(e=!1,g=c&&c.constructor==Array?c:[]):g=c&&c.constructor==Object?c:{},h[b]=f.merge(g,d)):void 0!==d&&(h[b]=d));return h},copy:function(a){var b={};return f.merge(b,a),b},parseUriOptions:{strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},parseUri:function(a){if(!a||"string"!=typeof a&&!(a instanceof String))throw new Error("Util.parseUri() received invalid input");for(var b=f.parseUriOptions,c=b.parser[b.strictMode?"strict":"loose"].exec(a),d={},e=14;e--;)d[b.key[e]]=c[e]||"";return d[b.q.name]={},d[b.key[12]].replace(b.q.parser,function(a,c,e){c&&(d[b.q.name][c]=e)}),d},sanitizeUrl:function(a){if(!a||"string"!=typeof a&&!(a instanceof String))throw new Error("Util.sanitizeUrl() received invalid input");var b=f.parseUri(a);return""===b.anchor&&(b.source=b.source.replace("#","")),a=b.source.replace("?"+b.query,"")},traverse:function(a,b){var c,d;for(c in a)a.hasOwnProperty(c)&&(d=a[c],null!==d&&"object"==typeof d?f.traverse(d,b):a[c]=b.apply(f,[c,d]))},redact:function(a){return a=String(a),new Array(a.length+1).join("*")},uuid4:function(){var a=(new Date).getTime(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:7&c|8).toString(16)});return b}},g={setupCustomStringify:function(){function a(a){return 10>a?"0"+a:a}function b(a){return f.lastIndex=0,f.test(a)?'"'+a.replace(f,function(a){var b=g[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}Date.prototype.toRollbarJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toRollbarJSON=Number.prototype.toRollbarJSON=Boolean.prototype.toRollbarJSON=function(){return this.valueOf()};var c,d,e,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(a,f,g){function h(a,f){var g,i,k,l,m,n=c,o=f[a];switch(o&&"object"==typeof o&&"function"==typeof o.toRollbarJSON&&(o=o.toRollbarJSON(a)),"function"==typeof e&&(o=e.call(f,a,o)),typeof o){case"string":return b(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(-1!==j.indexOf(o))throw new TypeError("RollbarJSON.stringify cannot serialize cyclic structures.");if(j.push(o),c+=d,m=[],"[object Array]"===Object.prototype.toString.apply(o)){for(l=o.length,g=0;l>g;g+=1)m[g]=h(g,o)||"null";return k=0===m.length?"[]":c?"[\n"+c+m.join(",\n"+c)+"\n"+n+"]":"["+m.join(",")+"]",c=n,k}if(e&&"object"==typeof e)for(l=e.length,g=0;l>g;g+=1)"string"==typeof e[g]&&(i=e[g],k=h(i,o),k&&m.push(b(i)+(c?": ":":")+k));else for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(k=h(i,o),k&&m.push(b(i)+(c?": ":":")+k));return k=0===m.length?"{}":c?"{\n"+c+m.join(",\n"+c)+"\n"+n+"}":"{"+m.join(",")+"}",c=n,k}}var i,j=[];if(c="",d="","number"==typeof g)for(i=0;g>i;i+=1)d+=" ";else"string"==typeof g&&(d=g);if(e=f,f&&"function"!=typeof f&&("object"!=typeof f||"number"!=typeof f.length))throw new Error("JSON.stringify");return h("",{"":a})}}},h={a:[{b:1}]};try{var j=JSON.stringify(h);g.stringify='{"a":[{"b":1}]}'!==j?g.setupCustomStringify():JSON.stringify}catch(k){g.stringify=g.setupCustomStringify()}if(!a._rollbarInitialized){var l=a.Rollbar,m=new b(l);m._processShimQueue(a.RollbarShimQueue||[]),a.Rollbar=m,a._rollbarInitialized=!0}}(window,document);
//# sourceMappingURL=https://d37gvrvc0wt4s1.cloudfront.net/static/js/rollbar.min.map