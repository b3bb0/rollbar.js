!function(a){function b(c){var d=a.location.protocol;0!==d.indexOf("http")&&(d="https:");var e=d+"//"+b.DEFAULT_ENDPOINT;this.options={endpoint:e,scrubFields:l.copy(b.DEFAULT_SCRUB_FIELDS),checkIgnore:null,payload:{}},this.plugins={},this.parentNotifier=c,c&&(c.hasOwnProperty("shimId")?c.notifier=this:this.configure(c.options))}function c(){for(var b;b=a._rollbarPayloadQueue.pop();)d(b.endpointUrl,b.payload,b.callback);h=setTimeout(c,1e3)}function d(b,c,d){d=d||function(){};var e=(new Date).getTime();e-j>=6e4&&(j=e,k=0);var f=a._globalRollbarOptions.itemsPerMin;return void 0!==f&&k>=f?(d(new Error(f+" items per minute reached")),void 0):(m.post(b,c,function(a,b){return a?d(a):(d(null,b),void 0)}),void 0)}function e(a){var b=[];if(a.arguments&&a.stack)b=f(a);else if(a.stack)b=-1===a.stack.indexOf("@")?f(a):g(a);else{var c=parseInt("undefined"!=typeof a.line?a.line:a.lineNumber,10)||0,d=l.sanitizeUrl(("undefined"!=typeof a.sourceURL?a.sourceURL:a.fileName)||null);b=[{filename:d,lineno:c}]}this.frames=b.reverse()}function f(a){var b,c,d,e,f,g,h,i=a.stack.split("\n"),j=i.length,k=[],m=/:([0-9]+(:([0-9]+))?)$/;for(g=1;j>g;++g)if(h=i[g],b=h.replace(/^\s+|\s+$/g,"").slice(3),"unknown source"!==b){if(b=b.split(" "),b.length>2?(c=b.slice(0,-1).join(" "),d=b.slice(-1)[0],e=0):2===b.length?(c=b[0],d=b[1]):(c=null,d=b[0]),d&&"(unknown source)"!==d){"("===d[0]&&(d=d.slice(1,-1));var n=m.exec(d);n?(e=n[1],e=e.split(":"),f=e.length>1?parseInt(e[1],10):null,e=parseInt(e[0],10),d=l.sanitizeUrl(d.slice(0,d.indexOf(n[0])))):(e=0,f=null)}k.push({filename:d,lineno:e,colno:f,method:c})}return k}function g(a){var b,c,d,e,f,g,h=a.stack.split("\n"),i=h.length,j=[];for(f=0;i>f;++f)if(g=h[f]){b=g.split("@"),b[0]?(c=b[0].split("("),c="undefined"!=typeof c[0]&&String(c[0]).length?c[0]:null):c=null,b.length>1?(d=b[1].split(":"),e=parseInt(d.slice(-1)[0],10)||0,d=l.sanitizeUrl(d.slice(0,-1).join(":"))||"<native code>"):"[native code]"===b[0]&&(c=null,d="<native code>",e=0);var k={filename:d,lineno:e,method:c};0===f&&a.columnNumber&&(k.colno=a.columnNumber+1),j.push(k)}return j}b.VERSION="0.10.8",b.DEFAULT_ENDPOINT="api.rollbar.com/api/1/",b.DEFAULT_SCRUB_FIELDS=["passwd","password","secret","confirm_password","password_confirmation"],a._rollbarPayloadQueue=[],a._globalRollbarOptions={startTime:(new Date).getTime()},b._generateLogFn=function(a){return function(){var b=this._getLogArgs(arguments);return this._log(a||b.level||this.options.defaultLogLevel||"debug",b.message,b.err,b.custom,b.callback)}},b.prototype._getLogArgs=function(a){for(var b,c,d,e,f,g,h,i=this.options.defaultLogLevel||"debug",j=0;j<a.length;++j)h=a[j],g=typeof h,"string"===g?c=h:"function"===g?f=h:"object"===g&&("Date"===h.constructor.name?b=h:h.hasOwnProperty("stack")?d=h:e=h);return{level:i,message:c,err:d,custom:e,callback:f}},b.prototype._route=function(a){var b=this.options.endpoint,c=/\/$/.test(b),d=/^\//.test(a);return c&&d?a=a.substring(1):c||d||(a="/"+a),b+a},b.prototype._processShimQueue=function(a){for(var c,d,e,f,g,h,i,j={};d=a.shift();)c=d.shim,e=d.method,f=d.args,g=c.parentShim,i=j[c.shimId],i||(g?(h=j[g.shimId],i=new b(h)):i=this,j[c.shimId]=i),i[e]&&"function"==typeof i[e]&&i[e].apply(i,f)},b.prototype._buildPayload=function(c,d,e,f,g){var h=this.options.accessToken,i=this.options.environment,j=l.copy(this.options.payload),k=l.uuid4(),m={environment:i,endpoint:this.options.endpoint,uuid:k,level:d,platform:"browser",framework:"browser-js",language:"javascript",body:this._buildBody(e,f),request:{url:a.location.href,query_string:a.location.search,user_ip:"$remote_ip"},client:{runtime_ms:c.getTime()-a._globalRollbarOptions.startTime,timestamp:Math.round(c.getTime()/1e3),javascript:{browser:a.navigator.userAgent,language:a.navigator.language,cookie_enabled:a.navigator.cookieEnabled,screen:{width:a.screen.width,height:a.screen.height},plugins:this._getBrowserPlugins()}},server:{},notifier:{name:"rollbar-browser-js",version:b.VERSION}},n={access_token:h,data:l.merge(j,m)};return g&&l.merge(n.data,g),this._scrub(n),n},b.prototype._buildBody=function(a,b){var c;return c=b?this._buildPayloadBodyTrace(a,b):this._buildPayloadBodyMessage(a)},b.prototype._buildPayloadBodyMessage=function(a){return{message:{body:a}}},b.prototype._buildPayloadBodyTrace=function(a,b){var c=b.name||typeof b,d=b.message||b.toString(),f={exception:{"class":c,message:b.message||b.toString()}};if(d&&(f.exception.description=a),b.stack){var g=new e(b),h=g.frames;h&&(f.frames=h)}return f.frames?f:buildMessage(c+": "+d)},b.prototype._getBrowserPlugins=function(){if(!this._browserPlugins){var b,c=a.navigator.plugins||[],d=c.length,e=[];for(i=0;d>i;++i)b=c[i],e.push({name:b.name,description:b.description});this._browserPlugins=e}return this._browserPlugins},b.prototype._scrub=function(a){var b=function(a,b,c,d,e,f){return b+l.redact(f)},c=this.options.scrubFields,d=this._getScrubFieldRegexs(c),e=this._getScrubQueryParamRegexs(c),f=function(a){var c;if("string"==typeof a)for(c=0;c<e.length;++c)a=a.replace(e[c],b);return a},g=function(a,b){var c;for(c=0;c<d.length;++c)if(d[c].test(a)){b=l.redact(b);break}return b},h=function(a,b){var c=g(a,b);return c===b?f(c):c};return l.traverse(a,h),a},b.prototype._getScrubFieldRegexs=function(a){for(var b,c=[],d=0;d<a.length;++d)b="\\[?(%5[bB])?"+a[d]+"\\[?(%5[bB])?\\]?(%5[dD])?",c.push(new RegExp(b,"i"));return c},b.prototype._getScrubQueryParamRegexs=function(a){for(var b,c=[],d=0;d<a.length;++d)b="\\[?(%5[bB])?"+a[d]+"\\[?(%5[bB])?\\]?(%5[dD])?",c.push(new RegExp("("+b+"=)([^&\\n]+)","igm"));return c},b.prototype._log=function(b,c,d,e,f){var g=this._buildPayload(new Date,b,c,d,e);a._rollbarPayloadQueue.push({callback:f,endpointUrl:this._route("item/"),payload:g})},b.prototype.log=b._generateLogFn(),b.prototype.debug=b._generateLogFn("debug"),b.prototype.info=b._generateLogFn("info"),b.prototype.warning=b._generateLogFn("warning"),b.prototype.error=b._generateLogFn("error"),b.prototype.critical=b._generateLogFn("critical"),b.prototype.uncaughtError=function(a,b,c,d,e){console.log(a,b,c,d,e)},b.prototype.global=function(b){l.merge(a._globalRollbarOptions,b)},b.prototype.configure=function(a){l.merge(this.options,a)},b.prototype.scope=function(a){var c=new b(this);return l.merge(c.options.payload,a),c};var h;b.processPayloads=function(){h=setTimeout(c,1e3)};var j=(new Date).getTime(),k=0,l={merge:function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!0;for("object"!=typeof g&&"function"!=typeof g&&(g={});i>h;h++)if(null!==(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(d.constructor==Object||(e=d.constructor==Array))?(e?(e=!1,f=c&&c.constructor==Array?c:[]):f=c&&c.constructor==Object?c:{},g[b]=l.merge(f,d)):void 0!==d&&(g[b]=d));return g},copy:function(a){var b;return"object"==typeof a&&(a.constructor==Object?b={}:a.constructor==Array&&(b=[])),l.merge(b,a),b},parseUriOptions:{strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},parseUri:function(a){if(!a||"string"!=typeof a&&!(a instanceof String))throw new Error("Util.parseUri() received invalid input");for(var b=l.parseUriOptions,c=b.parser[b.strictMode?"strict":"loose"].exec(a),d={},e=14;e--;)d[b.key[e]]=c[e]||"";return d[b.q.name]={},d[b.key[12]].replace(b.q.parser,function(a,c,e){c&&(d[b.q.name][c]=e)}),d},sanitizeUrl:function(a){if(!a||"string"!=typeof a&&!(a instanceof String))throw new Error("Util.sanitizeUrl() received invalid input");var b=l.parseUri(a);return""===b.anchor&&(b.source=b.source.replace("#","")),a=b.source.replace("?"+b.query,"")},traverse:function(a,b){var c,d;for(c in a)a.hasOwnProperty(c)&&(d=a[c],null!==d&&"object"==typeof d?l.traverse(d,b):a[c]=b.apply(l,[c,d]))},redact:function(a){return a=String(a),new Array(a.length+1).join("*")},uuid4:function(){var a=(new Date).getTime(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:7&c|8).toString(16)});return b}},m={XMLHttpFactories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],createXMLHTTPObject:function(){var a,b=!1,c=m.XMLHttpFactories,d=c.length;for(a=0;d>a;a++)try{b=c[a]();break}catch(e){}return b},post:function(a,b,c){c=c||function(){};var d=m.createXMLHTTPObject();if(d)try{try{var e=function(){try{e&&4===d.readyState&&(e=void 0,200===d.status?c(null,d.responseText):"number"==typeof d.status&&d.status>=400&&d.status<600?c(new Error(d.status.toString())):c(new Error))}catch(a){c(new Error)}};d.open("POST",a,!0),d.setRequestHeader&&(d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Origin","notifier")),d.onreadystatechange=e,d.send(b)}catch(f){if("undefined"!=typeof XDomainRequest){var g=function(){c(new Error)},h=function(){c(new Error)},i=function(){c(null,d.responseText)};d=new XDomainRequest,d.onprogress=function(){},d.ontimeout=g,d.onerror=h,d.onload=i,d.open("POST",a,!0),d.send(b)}}}catch(j){c(j)}}},n={setupCustomStringify:function(){function a(a){return 10>a?"0"+a:a}function b(a){return f.lastIndex=0,f.test(a)?'"'+a.replace(f,function(a){var b=g[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}Date.prototype.toRollbarJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toRollbarJSON=Number.prototype.toRollbarJSON=Boolean.prototype.toRollbarJSON=function(){return this.valueOf()};var c,d,e,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(a,f,g){function h(a,f){var g,i,k,l,m,n=c,o=f[a];switch(o&&"object"==typeof o&&"function"==typeof o.toRollbarJSON&&(o=o.toRollbarJSON(a)),"function"==typeof e&&(o=e.call(f,a,o)),typeof o){case"string":return b(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(-1!==j.indexOf(o))throw new TypeError("RollbarJSON.stringify cannot serialize cyclic structures.");if(j.push(o),c+=d,m=[],"[object Array]"===Object.prototype.toString.apply(o)){for(l=o.length,g=0;l>g;g+=1)m[g]=h(g,o)||"null";return k=0===m.length?"[]":c?"[\n"+c+m.join(",\n"+c)+"\n"+n+"]":"["+m.join(",")+"]",c=n,k}if(e&&"object"==typeof e)for(l=e.length,g=0;l>g;g+=1)"string"==typeof e[g]&&(i=e[g],k=h(i,o),k&&m.push(b(i)+(c?": ":":")+k));else for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(k=h(i,o),k&&m.push(b(i)+(c?": ":":")+k));return k=0===m.length?"{}":c?"{\n"+c+m.join(",\n"+c)+"\n"+n+"}":"{"+m.join(",")+"}",c=n,k}}var i,j=[];if(c="",d="","number"==typeof g)for(i=0;g>i;i+=1)d+=" ";else"string"==typeof g&&(d=g);if(e=f,f&&"function"!=typeof f&&("object"!=typeof f||"number"!=typeof f.length))throw new Error("JSON.stringify");return h("",{"":a})}}},o={a:[{b:1}]};try{var p=JSON.stringify(o);n.stringify='{"a":[{"b":1}]}'!==p?n.setupCustomStringify():JSON.stringify}catch(q){n.stringify=n.setupCustomStringify()}if(!a._rollbarInitialized){var r=a.Rollbar,s=new b(r);s._processShimQueue(a.RollbarShimQueue||[]),a.Rollbar=s,a._rollbarInitialized=!0,b.processPayloads()}}(window,document);
//# sourceMappingURL=https://d37gvrvc0wt4s1.cloudfront.net/static/js/rollbar.min.map